Biosimulations_format_utils.model package

Submodules

Biosimulations_format_utils.model.core module

Utilities for working with models

Author:
   Jonathan Karr <

   karr@mssm.edu

   >

Date:
   2020-03-22

Copyright:
   2020, Center for Reproducible Biomedical Modeling

License:
   MIT

class Biosimulations_format_utils.model.core.ModelReader

   Bases: "abc.ABC"

   Read information about models

   _abc_impl = <_abc_data object>

   abstract _read_format(model_orig, model)

      Read the format of a model

      Parameters:
         model_orig (object) -- original model encoded in a format
         such as SBML

         model (Model) -- model

      Returns:
         format of the model

      Return type:
         "Format"

   abstract _read_from_file(filename, model)

      Read a model from a file

      Parameters:
         filename (str) -- path to a file which defines a model

         model (Model) -- model

      Returns:
         model encoded in a format such as SBML

      Return type:
         "object"

   abstract _read_metadata(model_orig, model)

      Read the metadata of a model

      Parameters:
         model_orig (object) -- original model encoded in a format
         such as SBML

         model (Model) -- model

      Returns:
         model with additional metadata

      Return type:
         "Model"

   abstract _read_parameters(model_orig, model)

      Read the parameters of a model

      Parameters:
         model_orig (object) -- original model encoded in a format
         such as SBML

         model (Model) -- model

      Returns:
         information about parameters

      Return type:
         "list" of "ModelParameter"

   abstract _read_units(model_orig, model)

      Read the units of a model

      Parameters:
         model_orig (object) -- original model encoded in a format
         such as SBML

         model (Model) -- model

      Returns:
         dictionary that maps the ids of units to their definitions

      Return type:
         "dict"

   abstract _read_variables(model_orig, model)

      Read the variables of a model

      Parameters:
         model_orig (object) -- original model encoded in a format
         such as SBML

         model (Model) -- model

      Returns:
         information about the variables of the model

      Return type:
         "list" of "Variable"

   run(filename)

      Read a model from a file

      Parameters:
         filename

          ("str") -- path to a file which defines a model

      Returns:
         model

      Return type:
         "Model"

exception Biosimulations_format_utils.model.core.ModelIoError

   Bases: "Exception"

   Model IO error

exception Biosimulations_format_utils.model.core.ModelIoWarning

   Bases: "UserWarning"

   Model IO warning

Biosimulations_format_utils.model.data_model module

Data model for biomodels

Author:
   Jonathan Karr <

   karr@mssm.edu

   >

Date:
   2020-03-31

Copyright:
   2020, Center for Reproducible Biomedical Modeling

License:
   MIT

class Biosimulations_format_utils.model.data_model.Model(id=None, name=None, file=None, image=None, description=None, format=None, framework=None, taxon=None, tags=None, identifiers=None, references=None, authors=None, license=None, parameters=None, variables=None)

   Bases: "object"

   A biomodel

   id

      id

      Type:
         "str"

   name

      name

      Type:
         "str"

   file

      file

      Type:
         "RemoteFile"

   image

      image file

      Type:
         "RemoteFile"

   description

      description

      Type:
         "str"

   format

      format

      Type:
         "Format"

   framework

      modeling framework

      Type:
         "OntologyTerm"

   taxon

      taxon

      Type:
         "Taxon"

   tags

      tags

      Type:
         "list" of "str"

   identifiers

      identifiers

      Type:
         "list" of "Identifier"

   references

      references

      Type:
         "list" of "JournalReference"

   authors

      authors

      Type:
         "list" of "Person"

   license

      license

      Type:
         "License"

   parameters

      parameters (e.g., initial conditions and rate constants)

      Type:
         "list" of

         ModelParameter

   variables

      variables (e.g., model predictions)

      Type:
         "list" of

         Variable

   __eq__(other)

      Determine if two models are semantically equal

      Parameters:
         other

          (

         Model

         ) -- other model

      Returns:
         "bool"

   classmethod from_json(val)

      Create model from JSON

      Parameters:
         val

          ("dict") --

      Returns:
         Model

   to_json()

      Export to JSON

      Returns:
         "dict"

class Biosimulations_format_utils.model.data_model.ModelParameter(target=None, group=None, id=None, name=None, description=None, identifiers=None, type=None, value=None, recommended_range=None, units=None)

   Bases: "object"

   A parameter of a model

   target

      address within the model (e.g., XML path)

      Type:
         "str"

   group

      Name of the group that the parameter belongs to (e.g., 'Initial
      species amounts/concentrations'). Used to organize the display
      of parameters in the BioSimulations user interface.

      Type:
         "str"

   id

      id

      Type:
         "str"

   name

      name

      Type:
         "str"

   description

      description

      Type:
         "str"

   identifiers

      identifiers

      Type:
         "list" of "Identifier"

   type

      type of

      value

      Type:
         "Type"

   value

      value

      Type:
         "object"

   recommended_range

      minimum and maximum recommended values of

      value

      Type:
         "list" of "object"

   units

      units of

      value

      Type:
         "str"

   __eq__(other)

      Determine if two parameters are semantically equal

      Parameters:
         other

          (

         ModelParameter

         ) -- other parameter

      Returns:
         "bool"

   classmethod from_json(val)

      Create parameter from JSON

      Parameters:
         val

          ("dict") --

      Returns:
         ModelParameter

   static sort_key(parameter)

      Get a key to sort a parameter

      Parameters:
         parameter

          (

         ModelParameter

         ) -- parameter

      Returns:
         "str"

   to_json()

      Export to JSON

      Returns:
         "dict"

class Biosimulations_format_utils.model.data_model.Variable(target=None, group=None, id=None, name=None, description=None, identifiers=None, type=None, units=None)

   Bases: "object"

   A variable of a model

   target

      address within the model (e.g., XML path)

      Type:
         "str"

   group

      Name of the group that the variable belongs to (e.g., 'Species
      amounts/concentrations'). Used to organize the display of
      variable in the BioSimulations user interface.

      Type:
         "str"

   id

      id

      Type:
         "str"

   name

      name

      Type:
         "str"

   description

      description

      Type:
         "str"

   identifiers

      identifiers

      Type:
         "list" of "Identifier"

   type

      type of "value"

      Type:
         "Type"

   units

      units of "value"

      Type:
         "str"

   __eq__(other)

      Determine if two variables are semantically equal

      Parameters:
         other

          (

         Variable

         ) -- other variable

      Returns:
         "bool"

   classmethod from_json(val)

      Create variable from JSON

      Parameters:
         val

          ("dict") --

      Returns:
         Variable

   static sort_key(variable)

      Get a key to sort a variable

      Parameters:
         variable

          (

         Variable

         ) -- variable

      Returns:
         "str"

   to_json()

      Export to JSON

      Returns:
         "dict"

Biosimulations_format_utils.model.sbml module

Utilities for working with SBML-encoded models

Author:
   Jonathan Karr <

   karr@mssm.edu

   >

Date:
   2020-03-22

Copyright:
   2020, Center for Reproducible Biomedical Modeling

License:
   MIT

class Biosimulations_format_utils.model.sbml.SbmlModelReader

   Bases:

   Biosimulations_format_utils.model.core.ModelReader

   Read information about SBML-encoded models

   _abc_impl = <_abc_data object>

   _calc_recommended_param_range(value, zero_fold=10.0, non_zero_fold=10.0)

      Calculate a recommended range for the value of a parameter

      Parameters:
         value (float) -- Default value

         non_zero_fold (float, optional) -- Multiplicative factor, f,
         for the recommended minimum and maximum values relative to
         the default value, d, producing the recommend range d / f - d
         * f.

      Returns:
         recommended minimum and maximum values of the parameter

      Return type:
         "list" of "float"

   _format_unit_def(unit_def_sbml)

      Get a human-readable representation of a unit definition

      Parameters:
         unit_def_sbml

          ("libsbml.UnitDefinition") -- unit definition

      Returns:
         human-readable string representation of the unit definition

      Return type:
         "str"

   _get_compartment(model_sbml, comp_id)

      Get a compartment

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         comp_id (str) -- compartment id

      Returns:
         compartment

      Return type:
         "libsbml.Compartment"

   _get_reaction(model_sbml, rxn_id)

      Get a reaction

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         rxn_id (str) -- reaction id

      Returns:
         reaction

      Return type:
         "libsbml.Reaction"

   classmethod _get_xml_attr_by_name(node, name)

      Get an attribute of an XML element with a prefix and name

      Parameters:
         node (libsbml.XMLNode) -- XML node

         name (XmlName) -- attribute name

      Returns:
         attribute value

      Return type:
         "str"

   classmethod _get_xml_child_by_name(node, name)

      Get the child of an XML element with a prefix and name

      Parameters:
         node (libsbml.XMLNode) -- XML node

         name (XmlName) -- name

      Returns:
         child with prefix and name

      Return type:
         "libsbml.XMLNode"

   classmethod _get_xml_child_by_names(node, names)

      Get the child of an XML element with a prefix and name

      Parameters:
         node (libsbml.XMLNode) -- XML node

         names (list of XmlName) -- names

      Returns:
         child with prefix and name

      Return type:
         "libsbml.XMLNode"

   _read_format(model_sbml, model)

      Read the metadata of a model

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         model (Model) -- model

      Returns:
         format of the model

      Return type:
         "Format"

   _read_from_file(filename, model)

      Read a SBML-encoded model from a file

      Parameters:
         filename

          ("str") -- path to a file which defines an SBML-encoded
         model

      Returns:
         SBML-encoded model

      Return type:
         "libsbml.Model"

   _read_metadata(model_sbml, model)

      Read the metadata of a model

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         model (Model) -- model

      Returns:
         model with additional metadata

      Return type:
         "Model"

   _read_parameter(param_sbml, model, rxn_sbml=None, rxn_id=None, rxn_name=None)

      Read information about a SBML parameter

      Parameters:
         param_sbml (libsbml.ModelParameter) -- SBML parameter

         model (Model) -- model

         rxn_sbml (libsbml.Reaction, optional) -- SBML reaction

         rxn_id (str, optional) -- id of the parent reaction (used by
         local parameters)

         rxn_name (str, optional) -- name of the parent reaction (used
         by local parameters)

      Returns:
         information about the parameter

      Return type:
         "ModelParameter"

   _read_parameters(model_sbml, model, units)

      Read information about the parameters of a model

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         model (Model) -- model

         units (dict) -- dictionary that maps the ids of units to
         their definitions

      Returns:
         information about parameters

      Return type:
         "list" of "ModelParameter"

   _read_units(model_sbml, model)

      Read the units of a model

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         model (Model) -- model

      Returns:
         dictionary that maps the ids of units to their definitions

      Return type:
         "dict"

   _read_variable(model_sbml, species_sbml, model)

      Read information about a SBML species

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         species_sbml (libsbml.Species) -- SBML species

         model (Model) -- model

      Returns:
         information about the species

      Return type:
         "Variable"

   _read_variables(model_sbml, model, units)

      Read the variables of a model

      Parameters:
         model_sbml (libsbml.Model) -- SBML-encoded model

         model (Model) -- model

         units (dict) -- dictionary that maps the ids of units to
         their definitions

      Returns:
         information about the variables of the model

      Return type:
         "list" of "Variable"

Biosimulations_format_utils.model.sbml.viz_model(model_filename, img_filename, requests_session=None)

   Use

   MINERVA

    to visualize a model and save the visualization to a PNG file.

   Parameters:
      model_filename (str) -- path to the SBML-encoded model

      img_filename (str) -- path to save the visualization of the
      model

      requests_session (requests_cache.core.CachedSession, optional)
      -- cached requests session

   Returns:
      image

   Return type:
      "RemoteFile"

Module contents

Utilities for working with models

Author:
   Jonathan Karr <

   karr@mssm.edu

   >

Date:
   2020-03-22

Copyright:
   2020, Center for Reproducible Biomedical Modeling

License:
   MIT

class Biosimulations_format_utils.model.ModelFormat

   Bases: "int", "wc_utils.util.enumerate.CaseInsensitiveEnum"

   Model format

   _member_map_ = {'bngl': <ModelFormat.bngl: 1>, 'cellml': <ModelFormat.cellml: 2>, 'kappa': <ModelFormat.kappa: 3>, 'mml': <ModelFormat.mml: 4>, 'neuroml': <ModelFormat.neuroml: 5>, 'pharmml': <ModelFormat.pharmml: 6>, 'sbml': <ModelFormat.sbml: 7>}

   _member_names_ = ['bngl', 'cellml', 'kappa', 'mml', 'neuroml', 'pharmml', 'sbml']

   _member_type_

      alias of "builtins.int"

   _value2member_map_ = {1: <ModelFormat.bngl: 1>, 2: <ModelFormat.cellml: 2>, 3: <ModelFormat.kappa: 3>, 4: <ModelFormat.mml: 4>, 5: <ModelFormat.neuroml: 5>, 6: <ModelFormat.pharmml: 6>, 7: <ModelFormat.sbml: 7>}

   bngl = 1

   cellml = 2

   kappa = 3

   mml = 4

   neuroml = 5

   pharmml = 6

   sbml = 7

Biosimulations_format_utils.model.read_model(filename, format)

   Read a model from a file

   Parameters:
      filename (str) -- path to a file which defines a model

      format (ModelFormat) -- model format

   Returns:
      model

   Return type:
      "dict"
